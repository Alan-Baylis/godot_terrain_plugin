[gd_scene load_steps=10 format=1]

[ext_resource path="res://addons/terrain/terrain.gd" type="Script" id=1]
[ext_resource path="res://addons/terrain/icon.png" type="Texture" id=2]
[ext_resource path="res://terrain_material.tres" type="Material" id=3]
[ext_resource path="res://debug_camera.gd" type="Script" id=4]
[ext_resource path="res://terrain_ingame_editor.gd" type="Script" id=5]
[ext_resource path="res://grid.gd" type="Script" id=6]
[ext_resource path="res://sphere.msh" type="Mesh" id=7]

[sub_resource type="Environment" id=1]

ambient_light/enabled = true
ambient_light/color = Color( 0.0507813, 0.0507813, 0.0507813, 1 )
ambient_light/energy = 1.0
fxaa/enabled = false
background/mode = 2
background/color = Color( 0.407715, 0.563889, 0.625, 1 )
background/energy = 1.0
background/scale = 1.0
background/glow = 0.0
background/canvas_max_layer = null
glow/enabled = false
glow/blur_passes = 1
glow/blur_scale = 1
glow/blur_strength = 1
glow/blur_blend_mode = null
glow/bloom = 0.0
glow/bloom_treshold = 0.5
dof_blur/enabled = false
dof_blur/blur_passes = 1
dof_blur/begin = 100.0
dof_blur/range = 10.0
hdr/enabled = false
hdr/tonemapper = 0
hdr/exposure = 0.4
hdr/white = 1.0
hdr/glow_treshold = 0.95
hdr/glow_scale = 0.2
hdr/min_luminance = 0.4
hdr/max_luminance = 8.0
hdr/exposure_adj_speed = 0.5
fog/enabled = true
fog/begin = 5.0
fog/begin_color = Color( 0.403922, 0.560784, 0.623529, 1 )
fog/end_color = Color( 0.403922, 0.560784, 0.623529, 1 )
fog/attenuation = 0.90125
fog/bg = true
bcs/enabled = false
bcs/brightness = 1.0
bcs/contrast = 1.0
bcs/saturation = 1.0
srgb/enabled = false

[sub_resource type="Mesh" id=2]

surfaces/0 = { "alphasort":false, "arrays":[ Vector3Array( 0, 0, 0, 0, 0, 256, 0, 0, 0, 256, 0, 0, 16, 0, 0, 16, 0, 256, 0, 0, 16, 256, 0, 16, 32, 0, 0, 32, 0, 256, 0, 0, 32, 256, 0, 32, 48, 0, 0, 48, 0, 256, 0, 0, 48, 256, 0, 48, 64, 0, 0, 64, 0, 256, 0, 0, 64, 256, 0, 64, 80, 0, 0, 80, 0, 256, 0, 0, 80, 256, 0, 80, 96, 0, 0, 96, 0, 256, 0, 0, 96, 256, 0, 96, 112, 0, 0, 112, 0, 256, 0, 0, 112, 256, 0, 112, 128, 0, 0, 128, 0, 256, 0, 0, 128, 256, 0, 128, 144, 0, 0, 144, 0, 256, 0, 0, 144, 256, 0, 144, 160, 0, 0, 160, 0, 256, 0, 0, 160, 256, 0, 160, 176, 0, 0, 176, 0, 256, 0, 0, 176, 256, 0, 176, 192, 0, 0, 192, 0, 256, 0, 0, 192, 256, 0, 192, 208, 0, 0, 208, 0, 256, 0, 0, 208, 256, 0, 208, 224, 0, 0, 224, 0, 256, 0, 0, 224, 256, 0, 224, 240, 0, 0, 240, 0, 256, 0, 0, 240, 256, 0, 240 ), null, null, ColorArray( 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1 ), null, null, null, null, null ], "morph_arrays":[  ], "primitive":1 }
custom_aabb/custom_aabb = AABB( 0, 0, 0, 0, 0, 0 )

[node name="Node" type="Node"]

[node name="Terrain" type="Node" parent="."]

script/script = ExtResource( 1 )
__meta__ = { "_editor_icon":ExtResource( 2 ) }
terrain_size = 16
material = ExtResource( 3 )
_data = [ [ -0.123326, 0.427594, 0.802184, 1.04109, 1.18888, 1.26823, 1.10041, 0.727363, 0.633653, 0.691669, 0.913979, 1.07467, 1.12583, 1.07468, 0.913994, 0.623217, 0.35108 ], [ 1.07979, 1.47456, 1.61705, 1.63706, 1.43427, 1.37777, 1.47084, 1.49798, 1.13842, 1.46521, 1.57188, 1.73274, 1.74452, 1.61249, 1.31851, 1.00358, 0.607176 ], [ 1.53025, 1.51933, 1.95493, 2.17277, 2.13784, 1.89548, 2.17111, 2.63833, 2.93198, 3.09762, 2.97116, 2.82739, 2.34872, 2.03677, 1.79378, 1.36925, 0.883326 ], [ 1.50605, 2.14239, 2.60679, 2.6566, 2.46117, 2.60106, 3.09996, 3.57049, 3.55558, 3.45061, 3.55592, 3.66108, 3.40941, 2.67704, 2.07246, 1.70419, 1.10166 ], [ 1.98847, 3.08809, 3.45192, 3.23551, 3.10743, 3.26108, 3.3906, 3.34915, 3.25781, 2.89406, 3.13733, 3.44677, 3.66998, 3.3593, 2.41655, 1.87715, 1.31107 ], [ 3.31609, 3.81875, 3.41721, 3.06589, 3.08544, 3.0964, 3.04193, 2.75345, 2.33947, 1.82603, 1.6314, 1.02041, 0.638288, 0.606967, 0.630437, 0.916628, 1.35505 ], [ 3.83475, 3.76689, 3.35699, 2.95137, 2.83355, 2.57053, 2.01926, 1.1282, 0.469823, 0.0708876, -0.307533, -0.898229, -1.36346, -1.56172, -1.39297, -1.01233, 0.064722 ], [ 3.41704, 3.13003, 2.88791, 2.62275, 2.44602, 1.88261, 0.779199, -0.039289, -0.417787, -0.599847, -0.888609, -1.27624, -1.77849, -2.1923, -2.18128, -2.10896, -1.29743 ], [ 2.98979, 2.69554, 2.4149, 2.03659, 1.69563, 0.839353, 0.00502484, -0.465167, -0.634433, -0.743342, -0.977696, -1.29986, -1.9072, -2.39297, -2.50393, -2.647, -1.9535 ], [ 2.40932, 1.92192, 1.48533, 1.13033, 0.906339, 0.233572, -0.318324, -0.639245, -0.731634, -0.819334, -1.03985, -1.36317, -2.09291, -2.5604, -2.77639, -2.92758, -2.27048 ], [ 1.26378, 1.08706, 1.03565, 0.713098, 0.411068, -0.206012, -0.571602, -0.735068, -0.800415, -0.959583, -1.1415, -1.48876, -2.28852, -2.80649, -3.08423, -3.08017, -2.15003 ], [ 0.340385, 0.444101, 0.36868, 0.0821559, -0.108988, -0.495596, -0.644286, -0.572042, -0.794897, -0.99026, -1.17301, -1.71978, -2.58641, -3.00098, -3.24856, -2.86991, -1.66172 ], [ -0.0341804, -0.0640471, -0.0799473, -0.283358, -0.260625, -0.537992, -0.410659, -0.287597, -0.700583, -0.866517, -1.20249, -2.11941, -2.69968, -2.73381, -2.74661, -2.12319, -1.26797 ], [ -0.129095, -0.187386, -0.300091, -0.391919, -0.565721, -0.12444, 0.456391, 0.365194, -0.339984, -0.486677, -0.913579, -1.25432, -1.39979, -1.76393, -1.88418, -1.49696, -0.770631 ], [ -0.352988, -0.812841, -1.00863, -0.896224, -0.418298, 0.648812, 1.70089, 1.63849, 1.06779, 0.355503, -0.493919, -0.743532, -0.908434, -1.02767, -1.11148, -0.837117, -0.269913 ], [ -0.829153, -1.09003, -1.4072, -0.975047, 0.330251, 1.896, 2.53899, 1.96572, 1.57561, 0.962264, 0.478023, 0.184872, 0.019396, -0.0582442, -0.208267, -0.136942, 0.0 ], [ -1.97176, -1.4935, -0.919353, -0.207888, 0.754347, 1.45184, 1.39853, 1.53623, 1.59266, 1.59266, 1.53623, 1.39853, 1.14076, 0.719087, 0.230826, 0.0, 0.0 ] ]

[node name="Camera" type="Camera" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1, 0, -8.74228e-08, -4.22154e-08, 0.875682, 0.482888, 7.65546e-08, 0.482888, -0.875682, 0, 6.30182, -8.60276 )
projection = 0
fov = 60.0
near = 0.1
far = 400.0
keep_aspect = 1
current = false
visible_layers = 1048575
environment = null
h_offset = 0.0
v_offset = 0.0
script/script = ExtResource( 4 )
sensitivity = 0.4
min_angle = -90
max_angle = 90
speed = 10.0
capture_mouse = true

[node name="ingame_editor" type="Node" parent="Camera"]

script/script = ExtResource( 5 )

[node name="TestCube" type="TestCube" parent="Camera/ingame_editor"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0 )
layers = 1
geometry/visible = true
geometry/material_override = null
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0

[node name="DirectionalLight" type="DirectionalLight" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.255472, -0.940506, 0.533812, -0.884282, 0.134077, 0.659425, -0.622537, -0.576407, -0.717617, 18.9312, 27.7986, 22.0274 )
layers = 1
params/enabled = true
params/editor_only = false
params/bake_mode = 0
params/energy = 1.0
colors/diffuse = Color( 1, 1, 1, 1 )
colors/specular = Color( 1, 1, 1, 1 )
shadow/shadow = true
shadow/darkening = 0.2
shadow/z_offset = 0.05
shadow/z_slope_scale = 0.0
shadow/esm_multiplier = 60.0
shadow/blur_passes = 2.0
projector = null
operator = 0
shadow/mode = 2
shadow/max_distance = 0.0
shadow/split_weight = 0.5
shadow/zoffset_scale = 2.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
environment = SubResource( 1 )

[node name="Grid" type="MeshInstance" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.21772, 0 )
layers = 1
geometry/visible = true
geometry/material_override = null
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
mesh/mesh = SubResource( 2 )
mesh/skeleton = NodePath("..")
material/0 = null
script/script = ExtResource( 6 )
step = 16

[node name="TestSphere" type="MeshInstance" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5.77462 )
layers = 1
geometry/visible = true
geometry/material_override = ExtResource( 3 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
mesh/mesh = ExtResource( 7 )
mesh/skeleton = NodePath("..")
material/0 = null


